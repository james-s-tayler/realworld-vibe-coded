# Use the official Node.js 22 image for development
FROM node:22

WORKDIR /app

# Install curl for health checks
RUN apt-get update && apt-get install -y curl && rm -rf /var/lib/apt/lists/*

# Expose Vite dev server port
EXPOSE 5173

# Run npm install and start Vite dev server
# Note: Source code is mounted as a volume in docker-compose.yml
CMD ["sh", "-c", "npm ci && npm run dev -- --host 0.0.0.0"]
